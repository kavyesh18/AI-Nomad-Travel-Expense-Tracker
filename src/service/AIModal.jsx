import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing,rating, Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON-formatted travel plan for a couple visiting Las Vegas on a budget for 3 days. This plan focuses on free or low-cost activities and affordable hotel options.\n\n```json\n{\n  \"tripTitle\": \"Las Vegas Budget Trip for Two\",\n  \"duration\": \"3 Days\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40-$80/night\",\n      \"hotelImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/Circus_Circus_Hotel_and_Casino.jpg/1280px-Circus_Circus_Hotel_and_Casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1363,\n        \"longitude\": -115.1658\n      },\n        \"rating\": 3.5,\n      \"description\": \"A classic Vegas hotel with a circus theme, offering affordable rooms and free circus acts. Good for families and budget travelers.\",\n        \"amenities\":[\"Casino\",\"Restaurants\", \"Pools\",\"Free Circus Shows\"]\n    },\n      {\n        \"hotelName\": \"Strat Hotel, Casino & Skypod\",\n        \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n        \"price\": \"$50-$90/night\",\n         \"hotelImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Stratosphere_Tower_Las_Vegas.jpg/1280px-Stratosphere_Tower_Las_Vegas.jpg\",\n         \"geoCoordinates\": {\n           \"latitude\": 36.1467,\n           \"longitude\": -115.1556\n        },\n        \"rating\": 4,\n        \"description\": \"Offers affordable rooms with views and access to the iconic Stratosphere Tower. Less centrally located but good for budget-conscious travelers.\",\n        \"amenities\":[\"Casino\",\"Restaurants\", \"Pools\",\"Observation Deck\",\"Thrill Rides\"]\n      },\n    {\n      \"hotelName\": \"OYO Hotel & Casino Las Vegas\",\n      \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"$35-$70/night\",\n        \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/0a/0a/a4/oyo-hotel-casino-las-vegas.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1012,\n        \"longitude\": -115.1718\n      },\n       \"rating\": 3,\n      \"description\": \"A budget-friendly option located near the Strip, offering basic amenities and a convenient location.\",\n       \"amenities\":[\"Casino\",\"Restaurants\", \"Pool\"]\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip and Free Attractions\",\n      \"bestTimeToVisit\": \"Late Afternoon/Evening\",\n       \"places\": [\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n          \"placeDetails\": \"A beautifully designed indoor garden that changes seasonally, offering a stunning and free display.\",\n           \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/Bellagio_Conservatory_Spring_2019.jpg/1280px-Bellagio_Conservatory_Spring_2019.jpg\",\n           \"geoCoordinates\": {\n            \"latitude\": 36.1128,\n            \"longitude\": -115.1741\n          },\n          \"ticketPricing\": \"Free\",\n            \"timeToTravel\": \"0 min (on the strip)\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"A mesmerizing water show set to music. Free to watch from the Strip.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Bellagio_Fountain_at_Night_Las_Vegas.jpg/1280px-Bellagio_Fountain_at_Night_Las_Vegas.jpg\",\n             \"geoCoordinates\": {\n              \"latitude\": 36.1129,\n              \"longitude\": -115.1738\n            },\n          \"ticketPricing\": \"Free\",\n           \"timeToTravel\": \"0 min (on the strip)\"\n        },\n         {\n            \"placeName\": \"The Mirage Volcano\",\n            \"placeDetails\": \"A dramatic artificial volcano eruption show with fire and water.\",\n            \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/Mirage_volcano_at_night.jpg/1280px-Mirage_volcano_at_night.jpg\",\n               \"geoCoordinates\": {\n                \"latitude\": 36.1212,\n                 \"longitude\": -115.1747\n              },\n            \"ticketPricing\": \"Free\",\n             \"timeToTravel\": \"5-10 min walk\"\n        },\n         {\n            \"placeName\": \"Fremont Street Experience\",\n            \"placeDetails\": \"A pedestrian mall with a giant LED canopy offering light and music shows.\",\n             \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/Fremont_Street_Experience_at_Night.jpg/1280px-Fremont_Street_Experience_at_Night.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1705,\n                \"longitude\": -115.1413\n              },\n            \"ticketPricing\": \"Free\",\n             \"timeToTravel\": \"20 min by car/taxi/rideshare\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Cultural exploration &  Nature\",\n        \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"places\": [\n        {\n          \"placeName\": \"The Neon Museum Boneyard\",\n          \"placeDetails\": \"Explore historic Las Vegas signs in this outdoor museum.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/Neon_Museum_Boneyard_Las_Vegas_04.jpg/1280px-Neon_Museum_Boneyard_Las_Vegas_04.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1731,\n              \"longitude\": -115.1408\n            },\n          \"ticketPricing\": \"$20- $30 per person\",\n            \"timeToTravel\": \"10 mins from Fremont st.\"\n        },\n         {\n           \"placeName\":\"Red Rock Canyon National Conservation Area\",\n           \"placeDetails\":\"A desert landscape with hiking trails and scenic drives.\",\n            \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Red_Rock_Canyon_2018.jpg/1280px-Red_Rock_Canyon_2018.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1477,\n              \"longitude\": -115.4186\n           },\n            \"ticketPricing\":\"$15 per vehicle (entry fee)\",\n             \"timeToTravel\":\"30-40 min drive\"\n          },\n        {\n           \"placeName\": \"Pinball Hall of Fame\",\n          \"placeDetails\": \"A large collection of pinball machines where you can play for a small fee.\",\n          \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Pinball_Hall_of_Fame_IMG_2743_by_David_Merrett.jpg/1280px-Pinball_Hall_of_Fame_IMG_2743_by_David_Merrett.jpg\",\n           \"geoCoordinates\": {\n           \"latitude\": 36.0842,\n              \"longitude\": -115.1378\n            },\n           \"ticketPricing\":\"Variable ($0.25 - $1 per play)\",\n          \"timeToTravel\":\"30-40 min from Red Rock Canyon\"\n         }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"South Strip and Departure\",\n      \"bestTimeToVisit\": \"Morning\",\n      \"places\": [\n        {\n          \"placeName\": \"M&M's World\",\n          \"placeDetails\": \"A multi-story retail store with colorful M&M's merchandise.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/43/M%26M_World_Las_Vegas.jpg/1280px-M%26M_World_Las_Vegas.jpg\",\n          \"geoCoordinates\": {\n             \"latitude\": 36.1074,\n            \"longitude\": -115.1716\n          },\n          \"ticketPricing\": \"Free entry (shopping costs apply)\",\n           \"timeToTravel\": \"0 min (on the strip)\"\n        },\n         {\n            \"placeName\":\"Welcome to Fabulous Las Vegas Sign\",\n            \"placeDetails\":\"A Classic photo opportunity at the iconic Las Vegas sign.\",\n             \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Welcome_to_Las_Vegas_Sign_at_Night_01.jpg/1280px-Welcome_to_Las_Vegas_Sign_at_Night_01.jpg\",\n             \"geoCoordinates\": {\n                \"latitude\": 36.0827,\n                \"longitude\": -115.1725\n              },\n             \"ticketPricing\":\"Free\",\n            \"timeToTravel\":\"15 min from M&M's world\"\n        },\n        {\n          \"placeName\":\"Departure\",\n          \"placeDetails\":\"Head back to airport\",\n          \"placeImageUrl\":\"\",\n           \"geoCoordinates\":{},\n          \"ticketPricing\":\"N/A\",\n          \"timeToTravel\":\"N/A\"\n        }\n      ]\n    }\n  }\n}\n```\n**Important Notes for your Trip:**\n\n*   **Transportation:** Utilize public transportation (the Deuce bus), ride-sharing, or walking whenever possible to save on costs.\n*   **Food:** Take advantage of coupons and happy hour deals. Consider sharing meals to save money. Look for off-Strip dining for better prices.\n*   **Flexibility:** This is a suggested itinerary. Feel free to adjust it based on your interests and energy levels.\n* **Hotel Pricing:** Prices are estimates and can vary significantly depending on the time of year and day of the week. Book in advance for the best deals.\n\nHave a fantastic trip to Las Vegas!\n"},
          ],
        },
      ],
    });
  
  
